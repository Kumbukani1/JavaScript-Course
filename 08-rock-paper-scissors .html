<!DOCTYPE html>
<html>
  <head>
    <title>Rock-Paper-Scissors</title>
  </head>
  <body>
    <p>Rock-Paper-Scissors</p>

    <button onclick="
      playGame('Rock');
    ">Rock</button>

    <button onclick="
      playGame('Paper');
    ">Paper</button>


    <button onclick="
      playGame('Scissors');
    ">Scissors</button>

    <button onclick="
    score.wins = 0,
    score.losses = 0,
    score.ties = 0

    localStorage.removeItem('score');
    ">Reset Score</button>

    <script>
        let score = JSON.parse(localStorage.getItem('score')) || {
          wins: 0,
          losses: 0,
          ties: 0
        };
          /*
          This is an alternative code to the above lines of code.
        if(!score) {
          score = {
            wins: 0,
            losses: 0,
            ties: 0
          };
        }
        */

        console.log(JSON.parse(localStorage.getItem('score')));

        function playGame(playerMove) {
          const computerMove = pickComputerMove();

          let result = '';

          if(playerMove === 'Scissors') {
            if(computerMove ===  'Rock') {
              let result = 'You lose!';
              score.losses += 1;        
            } else if(computerMove === 'Paper') {
              let result = 'You win!';    
              score.wins += 1;    
            } else if(computerMove === 'Scissors') {
              let result = 'It is a tie!';
              score.ties += 1;

            }
            else if(playerMove === 'Paper') {
              if(computerMove ===  'Rock') {
                let result = 'You win!';    
                score.wins += 1;    
              } else if(computerMove === 'Paper') {
                let result = 'It is a tie!';
                score.ties += 1;
              } else if(computerMove === 'Scissors') {
                let result = 'You lose!';
                score.losses += 1;        
              }
            } else if(playerMove === 'Rock') {
              if(computerMove ===  'Rock') {
                let result = 'It is a tie!';
                score.ties += 1;
              } else if(computerMove === 'Paper') {
                let result = 'You lose!';
                 score.losses += 1;        
              } else if(computerMove === 'Scissors') {
                let result = 'You win!';    
                score.wins += 1;
          }

          if(result == 'You Win') {
            score.wins += 1;
          }else if(result == 'You lose') {
                score.losses += 1;
          }else if(result == 'It is a tie') {
             score.ties += 1;
          }
 
            localStorage.setItem('score',JSON.stringify(score));


          alert(`You chose Scissors. Computer chose: ${computerMove}. ${result}
         Wins:  ${score.wins}. Losses: ${score.losses}.  Ties: ${score.ties} `);
        }

          
      let computerMove = '';
      
      function pickComputerMove() {

        let randomNumber = Math.random();

        if(randomNumber >= 0 && randomNumber < 1/3) {
          computerMove = 'Rock';
        } else if(randomNumber >= 1/3 && randomNumber < 2/3) {
          computerMove = 'Paper';
        } else if(randomNumber >= 2/3 && randomNumber < 1) {
          computerMove = 'Scissors';
        }
        return computerMove;
      }
    </script>
  </body>
</html>